{
  "version": 3,
  "file": "MacUpdater.js",
  "sourceRoot": "",
  "sources": [
    "../src/MacUpdater.ts"
  ],
  "names": [],
  "mappings": ";;;;;;;;;AAAA,AAAO,AAAE,AAAU,AAAE,AAAM,AAAc;;;;;;AAEzC,AAAO,AAAe,AAAM,AAAgB,AAI5C,AAAM;;;;;;MAAkB,AAAQ,AAAU;AAGxC,gBAAY,AAA+D;AACzE,AAAK,cAAC,AAAO,AAAC;AAHC,aAAa,gBAAgB,AAAO,QAAC,AAAU,AAAC,YAAC,AAAW;AAK3E,AAAI,aAAC,AAAa,cAAC,AAAE,GAAC,AAAO,SAAE,AAAE;AAC/B,AAAE,AAAC,gBAAC,AAAI,KAAC,AAAM,UAAI,AAAI,AAAC,MAAC,AAAC;AACxB,AAAI,qBAAC,AAAM,OAAC,AAAI,KAAC,AAAE,AAAC,AACtB;AAAC;AACD,AAAI,iBAAC,AAAI,KAAC,AAAO,SAAE,AAAE,AAAC,AACxB;AAAC,AAAC;AACF,AAAI,aAAC,AAAa,cAAC,AAAE,GAAC,AAAmB,qBAAE;AACzC,kBAAM,AAAO,UAAG,AAAI,KAAC,AAAY,YAAC,AAAO;AACzC,AAAE,AAAC,gBAAC,AAAI,KAAC,AAAM,UAAI,AAAI,AAAC,MAAC,AAAC;AACxB,AAAI,qBAAC,AAAM,OAAC,AAAI,AAAC,qBAAe,AAAO,OAAsB,AAAC,AAChE;AAAC;AACD,AAAI,iBAAC,AAAI,KAAC,AAAmB,qBAAE,AAAI,KAAC,AAAW,AAAC,AAClD;AAAC,AAAC,AACJ;AAAC;AAES,AAAiB,sBAAC,AAAwB,aAAE,AAAkB;AACtE,AAAI,aAAC,AAAa,cAAC,AAAU,WAAO,AAAY,YAAC,AAAc,AAAC;AAChE,AAAK,cAAC,AAAiB,kBAAC,AAAW,aAAE,AAAQ,AAAC,AAChD;AAAC;AAES,AAAgB,qBAAC,AAAwB,aAAE,AAAkB;AACrE,AAAI,aAAC,AAAa,cAAC,AAAe,AAAE;AACpC,AAAM,eAAC,AAAe,gDAAC,AAAO,AAAE,AAClC;AAAC;AAED,AAAc;AACZ,AAAI,aAAC,AAAa,cAAC,AAAc,AAAE,AACrC;AAAC,AACF",
  "sourcesContent": [
    "import { AppUpdater } from \"./AppUpdater\"\nimport { BintrayOptions, PublishConfiguration, GithubOptions, VersionInfo } from \"electron-builder-http/out/publishOptions\"\nimport BluebirdPromise from \"bluebird-lst-c\"\nimport { FileInfo } from \"./api\"\nimport AutoUpdater = Electron.AutoUpdater\n\nexport class MacUpdater extends AppUpdater {\n  private readonly nativeUpdater: AutoUpdater = require(\"electron\").autoUpdater\n\n  constructor(options?: PublishConfiguration | BintrayOptions | GithubOptions) {\n    super(options)\n\n    this.nativeUpdater.on(\"error\", it => {\n      if (this.logger != null) {\n        this.logger.warn(it)\n      }\n      this.emit(\"error\", it)\n    })\n    this.nativeUpdater.on(\"update-downloaded\", () => {\n      const version = this.versionInfo!.version\n      if (this.logger != null) {\n        this.logger.info(`New version ${version} has been downloaded`)\n      }\n      this.emit(\"update-downloaded\", this.versionInfo)\n    })\n  }\n\n  protected onUpdateAvailable(versionInfo: VersionInfo, fileInfo: FileInfo) {\n    this.nativeUpdater.setFeedURL((<any>versionInfo).releaseJsonUrl)\n    super.onUpdateAvailable(versionInfo, fileInfo)\n  }\n\n  protected doDownloadUpdate(versionInfo: VersionInfo, fileInfo: FileInfo) {\n    this.nativeUpdater.checkForUpdates()\n    return BluebirdPromise.resolve()\n  }\n\n  quitAndInstall(): void {\n    this.nativeUpdater.quitAndInstall()\n  }\n}"
  ]
}
